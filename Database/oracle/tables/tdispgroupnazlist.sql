DROP TABLE ASU.TDISPGROUPNAZLIST CASCADE CONSTRAINTS
/

--
-- TDISPGROUPNAZLIST  (Table) 
--
CREATE TABLE ASU.TDISPGROUPNAZLIST
(
  FK_ID            NUMBER,
  FK_SMID          NUMBER,
  FN_COUNT         NUMBER,
  FK_PERIODKRATID  NUMBER,
  FN_SROK          NUMBER,
  FK_DISPGROUPID   NUMBER,
  FK_PERIODSROKID  NUMBER,
  FN_AGEBEGIN      NUMBER,
  FN_AGEEND        NUMBER,
  FN_SEX           NUMBER                       DEFAULT 2
)
TABLESPACE USR
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          16K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING
/

COMMENT ON COLUMN ASU.TDISPGROUPNAZLIST.FK_DISPGROUPID IS 'TDISPGROUP.FK_ID'
/

COMMENT ON COLUMN ASU.TDISPGROUPNAZLIST.FN_AGEBEGIN IS 'Для дополнительной диспансеризации отсеивать по возрасту '
/

COMMENT ON COLUMN ASU.TDISPGROUPNAZLIST.FN_AGEEND IS 'Для дополнительной диспансеризации отсеивать по возрасту '
/

COMMENT ON COLUMN ASU.TDISPGROUPNAZLIST.FN_SEX IS 'Пол какой ???'
/


--
-- TDNAZLIST_FK_DISPGRUOPID  (Index) 
--
--  Dependencies: 
--   TDISPGROUPNAZLIST (Table)
--
CREATE INDEX ASU.TDNAZLIST_FK_DISPGRUOPID ON ASU.TDISPGROUPNAZLIST
(FK_DISPGROUPID)
NOLOGGING
TABLESPACE USR
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL
/


--
-- TDNAZLIST_FK_ID  (Index) 
--
--  Dependencies: 
--   TDISPGROUPNAZLIST (Table)
--
CREATE UNIQUE INDEX ASU.TDNAZLIST_FK_ID ON ASU.TDISPGROUPNAZLIST
(FK_ID)
NOLOGGING
TABLESPACE USR
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL
/


--
-- TDNAZLIST_FK_PERIODKRATID  (Index) 
--
--  Dependencies: 
--   TDISPGROUPNAZLIST (Table)
--
CREATE INDEX ASU.TDNAZLIST_FK_PERIODKRATID ON ASU.TDISPGROUPNAZLIST
(FK_PERIODKRATID)
NOLOGGING
TABLESPACE USR
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL
/


--
-- TDNAZLIST_FK_PERIODSROKID  (Index) 
--
--  Dependencies: 
--   TDISPGROUPNAZLIST (Table)
--
CREATE INDEX ASU.TDNAZLIST_FK_PERIODSROKID ON ASU.TDISPGROUPNAZLIST
(FK_PERIODSROKID)
NOLOGGING
TABLESPACE USR
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL
/


--
-- TDNAZLIST_FK_SMID  (Index) 
--
--  Dependencies: 
--   TDISPGROUPNAZLIST (Table)
--
CREATE INDEX ASU.TDNAZLIST_FK_SMID ON ASU.TDISPGROUPNAZLIST
(FK_SMID)
NOLOGGING
TABLESPACE USR
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL
/


--
-- TDISPGROUPNAZLIST_INSERT  (Trigger) 
--
--  Dependencies: 
--   TDISPGROUPNAZLIST (Table)
--
CREATE OR REPLACE TRIGGER ASU."TDISPGROUPNAZLIST_INSERT"
  BEFORE INSERT
  ON ASU.TDISPGROUPNAZLIST   REFERENCING NEW AS NEW OLD AS OLD
  FOR EACH ROW
Begin
  select SEQ_TDISPGROUPNAZLIST.NEXTVAL INTO :NEW.FK_ID FROM DUAL;
End;
/
SHOW ERRORS;


