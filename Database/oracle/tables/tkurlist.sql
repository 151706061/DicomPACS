DROP TABLE ASU.TKURLIST CASCADE CONSTRAINTS
/

--
-- TKURLIST  (Table) 
--
CREATE TABLE ASU.TKURLIST
(
  KURLISTID  NUMBER(9)                          NOT NULL,
  FC_NAME    VARCHAR2(255 BYTE),
  SOTRID     NUMBER
)
TABLESPACE USR
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          200K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
PARALLEL ( DEGREE DEFAULT INSTANCES DEFAULT )
MONITORING
/


--
-- TMEDKURLIST_INS  (Trigger) 
--
--  Dependencies: 
--   TKURLIST (Table)
--
CREATE OR REPLACE TRIGGER ASU."TMEDKURLIST_INS" 
 BEFORE 
 INSERT
 ON ASU.TKURLIST  REFERENCING OLD AS OLD NEW AS NEW
 FOR EACH ROW
Begin 
  select SEQ_TKURLIST.nextval into :new.KURLISTID from dual;
End;
/
SHOW ERRORS;


--
-- TKURLIST_DEL  (Trigger) 
--
--  Dependencies: 
--   TKURLIST (Table)
--
CREATE OR REPLACE TRIGGER ASU."TKURLIST_DEL" 
 BEFORE 
 DELETE
 ON ASU.TKURLIST  REFERENCING OLD AS OLD NEW AS NEW
 FOR EACH ROW
BEGIN
   DELETE FROM tKURS
   WHERE       KURLISTid = :OLD.KURLISTid;
END;
/
SHOW ERRORS;


