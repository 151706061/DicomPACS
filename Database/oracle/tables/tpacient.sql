DROP TABLE ASU.TPACIENT CASCADE CONSTRAINTS
/

--
-- TPACIENT  (Table) 
--
CREATE TABLE ASU.TPACIENT
(
  FK_ID      VARCHAR2(6 BYTE),
  FK_IB      VARCHAR2(7 BYTE),
  FC_FAM     VARCHAR2(20 BYTE),
  FC_IM      VARCHAR2(10 BYTE),
  FC_OTCH    VARCHAR2(15 BYTE),
  FD_ROJD    DATE,
  FK_PUT     VARCHAR2(7 BYTE),
  FC_ORG     VARCHAR2(50 BYTE),
  FK_KOD2    VARCHAR2(1 BYTE),
  FD_PRIB    DATE,
  FD_VYB     DATE,
  FN_DNI     NUMBER(3),
  FN_KOL     NUMBER(3),
  FC_VID     VARCHAR2(15 BYTE),
  FK_PALATA  VARCHAR2(6 BYTE),
  FL_CHANGE  NUMBER(1),
  FL_TEK     NUMBER(1),
  FN_SUM     NUMBER(19,2)
)
TABLESPACE USR
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          1040K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING
/


--
-- TPACIENT_BEFORE_UPDATE  (Trigger) 
--
--  Dependencies: 
--   TPACIENT (Table)
--
CREATE OR REPLACE TRIGGER ASU."TPACIENT_BEFORE_UPDATE" 
BEFORE UPDATE
ON ASU.TPACIENT REFERENCING OLD AS OLD NEW AS NEW
FOR EACH ROW
Begin
--  if  :NEW.FN_SUM<> :OLD.FN_SUM AND :OLD.FL_CHANGE=1 then
 --   :NEW.FL_CHANGE:=0;
 -- end if;
 NULL;
End;
/
SHOW ERRORS;


