DROP TABLE ASU.TPARTOGRAMMATYPE CASCADE CONSTRAINTS
/

--
-- TPARTOGRAMMATYPE  (Table) 
--
CREATE TABLE ASU.TPARTOGRAMMATYPE
(
  FK_ID        NUMBER                           NOT NULL,
  FC_NAME      VARCHAR2(200 BYTE),
  FN_BEGDIAP   NUMBER,
  FN_ENDDIAP   NUMBER,
  FN_TYPE      NUMBER,
  FN_STEPORD   NUMBER,
  FN_STEPABS   NUMBER,
  FL_DEL       NUMBER                           DEFAULT 0,
  FC_SHORT     VARCHAR2(50 BYTE),
  FN_ORDER     NUMBER,
  FC_COLNAMES  VARCHAR2(200 BYTE),
  FC_SYNONIM   VARCHAR2(50 BYTE),
  FN_PERIOD    NUMBER
)
TABLESPACE USR
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FC_NAME IS 'название'
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FN_BEGDIAP IS 'начало диапазона по дефолту'
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FN_ENDDIAP IS 'конец диапазона  по дефолту'
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FN_TYPE IS 'тип партограммы (0-график, 1-числовой, 2-заштриховочный, 3-текстовый, 4-столбик(как АД) и т.д.)'
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FN_STEPORD IS 'шаг оси ординат (при FN_TYPE=1: кол-во строк)'
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FN_STEPABS IS 'шаг оси абсцисс в минутах (10,30,60 и т.д)'
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FC_SHORT IS 'сокращенное название для заголовков'
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FN_ORDER IS 'порядок сортировки'
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FC_COLNAMES IS 'названия столбцов для колонок грида'
/

COMMENT ON COLUMN ASU.TPARTOGRAMMATYPE.FN_PERIOD IS 'период через сколько можно вносить данные (в шагах абсцисс)'
/


--
-- TPARTOGRAMMATYPE_BEFORE_INS  (Trigger) 
--
--  Dependencies: 
--   TPARTOGRAMMATYPE (Table)
--
CREATE OR REPLACE TRIGGER ASU."TPARTOGRAMMATYPE_BEFORE_INS" 
  BEFORE INSERT
  ON ASU.TPARTOGRAMMATYPE   REFERENCING NEW AS NEW OLD AS OLD
  FOR EACH ROW
Begin
  SELECT SEQ_TPARTOGRAMMATYPE.NEXTVAL INTO :NEW.FK_ID FROM DUAL;
End;
/
SHOW ERRORS;


