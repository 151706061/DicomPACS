DROP TABLE ASU.TPROFP_LOADLIST_SMID CASCADE CONSTRAINTS
/

--
-- TPROFP_LOADLIST_SMID  (Table) 
--
CREATE GLOBAL TEMPORARY TABLE ASU.TPROFP_LOADLIST_SMID
(
  FK_ID     NUMBER                              NOT NULL,
  FK_PACID  NUMBER,
  FK_PROFF  NUMBER,
  FC_PROFF  VARCHAR2(100 BYTE),
  FK_SMID   NUMBER,
  FN_SUMMA  NUMBER
)
ON COMMIT PRESERVE ROWS
NOCACHE
/


--
-- TPROFP_LOADLIST_SMID_BI  (Trigger) 
--
--  Dependencies: 
--   TPROFP_LOADLIST_SMID (Table)
--
CREATE OR REPLACE TRIGGER ASU.tprofp_loadlist_smid_BI
 BEFORE 
 INSERT
 ON ASU.TPROFP_LOADLIST_SMID  REFERENCING OLD AS OLD NEW AS NEW
 FOR EACH ROW
begin
 :new.fk_id := nvl( :new.fk_id,seq_tprofp_loadlist.NEXTVAL);
 end;
/
SHOW ERRORS;


