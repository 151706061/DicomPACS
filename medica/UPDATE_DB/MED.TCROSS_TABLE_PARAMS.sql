CREATE TABLE MED.TCROSS_TABLE_PARAMS
  (
  FK_ID NUMBER,
  FC_TABLE1 VARCHAR2 (30),
  FC_NAME_FIELD1 VARCHAR2 (30),
  FC_KEY_FIELD1 VARCHAR2 (30),  
  
  FC_TABLE2 VARCHAR2 (30),
  FC_NAME_FIELD2 VARCHAR2 (30),
  FC_KEY_FIELD2 VARCHAR2 (30),  
  FC_CROSS_NAME VARCHAR2 (50)

 )
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_TABLE1 IS 'название таблицы №1 (вместе со схемой)'
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_NAME_FIELD1 IS 'название отображаемого поля в таблице№ 1'
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_KEY_FIELD1 IS 'название ключевого поля в таблице№ 1'
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_TABLE2 IS 'название таблицы №2 (вместе со схемой)'
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_NAME_FIELD2 IS 'название отображаемого поля в таблице№ 2'
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_KEY_FIELD2 IS 'название ключевого поля в таблице№ 2'
/

COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_CROSS_NAME IS 'Название получаемой связки'
/

ALTER TABLE MED.TCROSS_TABLE_PARAMS ADD (FP_CHECK_TYPE NUMBER)
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FP_CHECK_TYPE IS 'отображение значений: 1 - чекбокс (0-false, 1-true), 2 - число'
/
ALTER TABLE MED.TCROSS_TABLE_PARAMS MODIFY (FP_CHECK_TYPE DEFAULT 1)
/

CREATE SEQUENCE MED.SEQ_TCROSS_TABLE_PARAMS
/

CREATE OR REPLACE TRIGGER MED.TCROSS_TABLE_PARAMS_INS
 BEFORE 
 INSERT
 ON MED.TCROSS_TABLE_PARAMS
 FOR EACH ROW 
begin
  if :new.fk_id is null then
    select MED.SEQ_TCROSS_TABLE_PARAMS.NEXTVAL into :new.fk_id from dual;
  end if;
end;
/

ALTER TABLE MED.TCROSS_TABLE_PARAMS ADD (FC_SYNONIM VARCHAR2(30))
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_SYNONIM IS 'синоним'
/

ALTER TABLE MED.TCROSS_TABLE_PARAMS 
 ADD (
  FC_TABLE1_COMMENT VARCHAR2 (40),
  FC_TABLE2_COMMENT VARCHAR2 (40)
 )
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_TABLE1_COMMENT IS 'Подпись для таблицы 1'
/
COMMENT ON COLUMN MED.TCROSS_TABLE_PARAMS.FC_TABLE2_COMMENT IS 'Подпись для таблицы 2'
/