-- Start of DDL Script for Trigger MED.TMEDIC_BEFORE_DELETE
-- Generated 30-ноя-2008 18:53:51 from MED@ASU

CREATE OR REPLACE TRIGGER med.tmedic_before_delete
 BEFORE
  DELETE
 ON med.tmedic
REFERENCING NEW AS NEW OLD AS OLD
 FOR EACH ROW
begin
  DELETE FROM TKARTCOMPOS
  WHERE FK_MEDICID = :OLD.MEDICID;

  DELETE FROM TMEDICOMPLEX
  WHERE FK_MEDIC = :OLD.MEDICID;

  DELETE FROM TMEDIC_TSPECIALMEDIC
  WHERE MEDICID = :OLD.MEDICID;
  
  DELETE FROM MED.TMEDIC_CHRONO 
  WHERE MEDICID = :OLD.MEDICID;  
  
--  if (:OLD.FL_EQUIPMENT = 1) then
--    UPDATE ASU_ITEMS.TITEMS set FN_DELETED = 1 where FK_ID = :OLD.FK_TITEMS;
--  end if;
end;
/


-- End of DDL Script for Trigger MED.TMEDIC_BEFORE_DELETE

